<div *ngIf="successfullRegistration; then successBlock; else registrationBlock" class='container-fluid'></div>
<ng-template #registrationBlock>
    <form class="form-signin" #loginForm="ngForm" (ngSubmit)="registUser(loginForm, file.files)">
        <div class="registrationbox">
            <h2 class="form-signin-heading">Registration for patients</h2>
            <br/>
            <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
            <div *ngIf="!uniqueName" class="alert alert-danger">User Name is already in use.</div>
            <label for="userName" class="sr-only">Username</label>
            <input type="text" id="userName" name="userName" ngModel class="form-control" placeholder="User Name" required autofocus>
            <br/>
            <label for="nativeName" class="sr-only">Native Name</label>
            <input type="text" id="nativeName" name="nativeName" ngModel class="form-control" placeholder="Native Name" required>
            <br/>
            <div *ngIf="passwordToShort(password.value)" class="alert alert-danger">Passwords must be at least 8 character</div>
            <label for="password" class="sr-only">Password</label>
            <input #password type="password" id="password" name="password" ngModel class="form-control" placeholder="Password" required>
            <br/>
            <div *ngIf="passwordNotMatch(password.value, repassword.value)" class="alert alert-danger">Passwords are not matching</div>
            <label for="repassword" class="sr-only">Password Again</label>
            <input #repassword type="password" id="repassword" name="repassword" ngModel class="form-control" placeholder="Password Again" required>
            <br/>
            <div *ngIf="!emailIsValid(email.value)" class="alert alert-danger">Email should look like: account@company.domain</div>
            <label for="email" class="sr-only">Email Address</label>
            <input #email type="email" id="email" name="email" ngModel class="form-control" placeholder="Email Address" required>
            <br/>
            <label for="gender" class="sr-only">Gender</label>
            <select id="gender" name="gender" ngModel class="form-control" required>
                <option value="" selected disabled hidden>Gender</option>
                <option value="male">Male</option>
                <option value="felmale">Female</option>
            </select>
            <br/>
            <label for="birthday" class="sr-only">Birthday</label>
            <input type="text" onfocus="(this.type='date')" onblur="(this.type='text')" id="birthday" name="birthday" ngModel class="form-control" placeholder="Birthday" required>
            <br/>
            <label for="weight" class="sr-only">Weight (kg)</label>
            <input type="number" id="weight" name="weight" ngModel class="form-control" placeholder="Weight (kg)" required>
            <br/>
            <label for="country" class="sr-only">Country</label>
            <input type="text" id="country" name="country" ngModel class="form-control" placeholder="Country" required>
            <br/>
            <label for="city" class="sr-only">City</label>
            <input type="text" id="city" name="city" ngModel class="form-control" placeholder="City" required>
            <br/>
            <label for="postalCode" class="sr-only">Postal Code</label>
            <input type="text" id="postalCode" name="postalCode" ngModel class="form-control" placeholder="Postal Code" required>
            <br/>
            <label for="address" class="sr-only">Address</label>
            <input type="text" id="address" name="address" ngModel class="form-control" placeholder="Address" required>
            <br/>
            <label for="medicalReport" class="sr-only">Medical Report</label>
            <div *ngIf="!fileIsSelected(file.files)" class="alert alert-warning">Medical report is not choosen</div>
			<input #file type="file" accept=".zip,.rar,.7zip" id="file" name="file" placeholder="Browse Medical Report" class="hide">
            <a class="btn btn-lg btn-info text-white btn-block" (click)="file.click()">Browse Medical Report</a>
            <br/>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign up</button>
        </div>
    </form>
</ng-template>
<ng-template #successBlock>
    <div class="thanksbox">
        <h2 class="form-signin-heading">Acceptance is needed</h2>
        <p>Thank you for your registration, after a system administrator accept it you can enter to the system. You will get notified by email.</p>
        <a class="btn btn-lg btn-block btn-info text-white" routerLink="/login">Go to login</a>
    </div>
</ng-template>